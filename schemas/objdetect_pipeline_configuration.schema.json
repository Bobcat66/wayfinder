{
    "$schema": "https://json-schema.org/draft-07/schema#",
    "$id": "objdetect_pipeline_configuration.schema.json",
    "title": "Object Detection Pipeline Configuration",
    "type": "object",
    "definitions": {
        "inference_engine_type": {
            "type": "string",
            "enum": [
                "CV_CPU",
                "CV_OPENCL",
                "CV_VULKAN",
                "CUDA",
                "OpenVINO",
                "RKNN",
                "CoreML",
                "ROCm",
                "EdgeTPU",
                "HailoRT"
            ]
        },
        "model_architecture": {
            "type": "string",
            "enum": [
                "YOLO",
                "SSD",
                "RETINA_NET",
                "RCNN"
            ]
        },
        "tensor_parameters": {
            "type": "object",
            "properties": {
                "interleaved": { "type": "boolean" },
                "height": { "type": "number" },
                "width": { "type": "number" },
                "channels": { "type": "number" },
                "scale": { "type": "number" },
                "stds": {
                    "type": "array",
                    "items": { "type": "number" },
                    "minItems": 1,
                    "maxItems": 4
                },
                "means": {
                    "type": "array",
                    "items": { "type": "number" },
                    "minItems": 1,
                    "maxItems": 4
                }
            },
            "required": ["interleaved","height","width","channels","scale","stds","means"],
            "additionalProperties": false
        },
        "ie_filtering_parameters": {
            "type": "object",
            "properties": {
                "nmsThreshold": { "type": "number" },
                "confidenceThreshold": { "type": "number" }
            },
            "required": ["nmsThreshold","confidenceThreshold"],
            "additionalProperties": false
        }
    },
    "properties": {
        "modelFile": { "type": "string" },
        "modelArch": { "$ref": "#/definitions/model_architecture" },
        "engineType": { "$ref": "#/definitions/inference_engine_type" },
        "tensorParams": { "$ref": "#/definitions/tensor_parameters" },
        "modelColorSpace": { "$ref": "frame_format.schema.json#/definitions/image_encoding" },
        "filterParams": { "$ref": "#/definitions/ie_filtering_parameters" }
    },
    "additionalProperties": false
}